<div data-sly-test.empty="${wcmmode.edit && (!properties.pageReference)}" class="cq-placeholder cq-dd-image" data-emptytext="Combo Cruise header"></div>
<sly data-sly-use.comboCruiseUse="com.silversea.aem.components.page.ComboCruiseUse"/>

<div class="c-combo-cruise-header ${!comboCruiseUse.comboCruiseModel.thumbnail ? 'no-image' : ''}">
    <div class="c-combo-cruise-header__content">
        <h1 class="c-combo-cruise-header__content__title">${comboCruiseUse.comboCruiseModel.title @ context="html"}</h1>
        <div class="c-combo-cruise-header__content__details">
            <sly data-sly-use.dateHelper="${'com.silversea.aem.helper.DateHelper' @ format='MMMMM d', date=comboCruiseUse.comboCruiseModel.startDate}" />
            <span class="text-uppercase">${'starting' @ i18n}</span>
            <strong>${dateHelper.value} ${'in' @ i18n} ${comboCruiseUse.comboCruiseModel.departurePortName}<br />
            ${'aboard' @ i18n} ${comboCruiseUse.comboCruiseModel.ship.title}</strong><br />
            <span class="text-uppercase">${'from' @ i18n}</span>
            <!--/* TODO waitlist */-->
            <strong>${comboCruiseUse.lowestPrice.currency @ i18n} ${comboCruiseUse.computedPriceFormatted}</strong> (${'per-guest' @ i18n})
        </div>
        <div class="c-combo-cruise-header__content__resume">
            <table align="center" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tbody>
                    <tr>
                        <td>${comboCruiseUse.comboCruiseModel.duration}</td>
                        <td>${comboCruiseUse.comboCruiseModel.portsAmount}</td>
                        <td>${comboCruiseUse.comboCruiseModel.routesAmount}</td>
                        <td>${comboCruiseUse.comboCruiseModel.countriesAmount}</td>
                    </tr>
                    <tr>
                        <th>${'days' @ i18n}</th>
                        <th>${'ports' @ i18n}</th>
                        <th>${'routes' @ i18n}</th>
                        <th>${'countries' @ i18n}</th>
                    </tr>
                </tbody>
            </table>
        </div>
        <div data-sly-test="${properties.pageReference}" class="hidden-xs">
            <a href="${properties.pageReference @ extension='html'}" class="c-btn--dark c-combo-cruise-header__content__btn">
                ${'discover-more' @ i18n} <i class="fa fa-angle-right"></i>
            </a>
        </div>
    </div>

    <div class="c-combo-cruise-header__image" data-sly-test="${comboCruiseUse.comboCruiseModel.thumbnail}">
        <sly data-sly-use.imageTemplate="silversea/silversea-com/components/editorial/image/imagetemplate.html"
            data-sly-call="${imageTemplate.default @ imagePath=comboCruiseUse.comboCruiseModel.thumbnail}" />
    </div>
</div>
