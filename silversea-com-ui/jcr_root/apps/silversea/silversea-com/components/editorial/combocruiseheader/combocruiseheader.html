<div data-sly-test.empty="${wcmmode.edit}" class="cq-placeholder cq-dd-image" data-emptytext="Combo Cruise header"></div>
<sly data-sly-use.comboCruise="${'com.silversea.aem.helper.PageHelper' @ path=properties.pageReference}" />
<sly data-sly-test.comboCruisePage="${properties.pageReference ? comboCruise.page : currentPage}" />
<sly data-sly-use.pageHelper="${'com.silversea.aem.helper.PageHelper' @ path=comboCruisePage.path}" />
<sly data-sly-test.ppties="${comboCruisePage.properties}" />

<div class="c-combo-cruise-header ${!pageHelper.thumbnail ? 'no-image' : ''}">
    <div class="c-combo-cruise-header__content">
        <h1 class="c-combo-cruise-header__content__title">
            ${ppties.apiTitle || ppties.jcr:title @ context="html"}
        </h1>
        <div class="c-combo-cruise-header__content__details">
            <sly data-sly-use.pageHelperShip="${'com.silversea.aem.helper.PageHelper' @ path=ppties.shipReference}" />
            <sly data-sly-use.dateHelper="${'com.silversea.aem.helper.DateHelper' @ format='MMMMM d', date=ppties.startDate}" />
            <span class="text-uppercase">${'starting' @ i18n}</span>
            <strong>${dateHelper.value} ${'in' @ i18n} [CC DEPARTURE PORT]<br />
            ${'aboard' @ i18n} ${pageHelperShip.page.title}</strong><br />
            <span class="text-uppercase">${'from' @ i18n}</span>
            <strong>[CC PRICE]</strong> (${'per-guest' @ i18n})
        </div>
        <div class="c-combo-cruise-header__content__resume">
            <table align="center" width="100%" cellpadding="0" cellspacing="0" border="0">
                <tbody>
                    <tr>
                        <td>${ppties.duration}</td>
                        <td>${ppties.portsAmount}</td>
                        <td>${ppties.routesAmount}</td>
                        <td>${ppties.countriesAmount}</td>
                    </tr>
                    <tr>
                        <th>${'days' @ i18n}</th>
                        <th>${'ports' @ i18n}</th>
                        <th>${'routes' @ i18n}</th>
                        <th>${'countries' @ i18n}</th>
                    </tr>
                </tbody>
            </table>
        </div>
        <div data-sly-test="${properties.pageReference}" class="hidden-xs">
            <a href="${properties.pageReference @ extension='html'}" class="c-btn--dark c-combo-cruise-header__content__btn">
                ${'discover-more' @ i18n} <i class="fa fa-angle-right"></i>
            </a>
        </div>
    </div>

    <div class="c-combo-cruise-header__image" data-sly-test="${pageHelper.thumbnail}">
        <sly data-sly-use.imageTemplate="silversea/silversea-com/components/editorial/image/imagetemplate.html"
            data-sly-call="${imageTemplate.default @ imagePath=pageHelper.thumbnail}" />
    </div>
</div>