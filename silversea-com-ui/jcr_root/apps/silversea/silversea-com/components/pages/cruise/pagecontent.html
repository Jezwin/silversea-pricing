<sly data-sly-use.externalizerHelper="${'com.silversea.aem.helper.ExternalizerHelper' @ path=currentNode.path}" />
<div data-sly-use.cruise="com.silversea.aem.components.page.CruiseUse" class="container c-cruise ${cruise.cruiseModel.cruiseType == 'silversea-expedition' ? 'expedition' : ''}"
    data-gallery-path="${externalizerHelper.externalizedUrl @ extension='html', selectors='gallery'}">
    <div class="row">
        <div class="col-md-12">
            <sly data-sly-use.cruiseHeader="silversea/silversea-com/components/pages/cruise/fragment/header.html" data-sly-call="${cruiseHeader.default @ cruise=cruise}" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="c-tab c-tab__accordion">
                <ul class="c-tab__nav c-tab__nav--fixed dropdown-menu" data-toggle="dropdown" aria-expanded="false">
                    <li class="c-tab__link c-tab__link--dark" data-state="active">
                        <a href="#overview"><span>${'overview' @i18n}</span></a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark">
                        <a href="#suitenfare"><span>${'suites-and-fares' @i18n}</span></a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark" data-sly-test="${cruise.cruiseModel.cruiseType == 'silversea-cruise' && cruise.excursionsNumber > 0}">
                        <a href="#excursion"><span>${'excursions' @i18n}</span></a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark" data-sly-test="${cruise.cruiseModel.cruiseType == 'silversea-expedition' && (properties.voyageHighlights || properties.reference)}">
                        <a href="#highlight" data-sly-test.tabname="${properties.reference && properties.voyageHighlights ? 'voyage-highlights-expedition' : 'voyage-highlights'}">
                            <span data-sly-test.tabname="${!properties.voyageHighlights ? 'expedition-team' : tabname}">${tabname @i18n}</span>
                        </a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark">
                        <a href="#ship"><span>${'ship' @i18n}</span></a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark" data-sly-test="${cruise.landProgramsNumber > 0 || cruise.hotelsNumber > 0}">
                        <a href="#landnhotel"><span>${'land-and-hotel' @i18n}</span></a>
                    </li>
                    <li class="c-tab__link c-tab__link--dark">
                        <a href="#photonvideo"><span>${'photos-and-videos' @i18n}</span></a>
                    </li>
                </ul>
                <div class="c-tab__body">
                    <div class="c-tab__content c-tab__content--overview" id="overview" data-state="active">
                        <!--/* Overview tab */-->
                        <sly data-sly-include="fragment/overviewtab/overview.html" />
                        <sly
                            data-sly-test="${cruise.exclusiveOffersCruiseFareAdditions.size > 0 || cruise.cruiseModel.cruiseFareAdditions.size > 0}"
                            data-sly-include="fragment/overviewtab/fare.html" />
                        <sly data-sly-include="fragment/overviewtab/itineraries.html" />
                        <sly data-sly-include="fragment/overviewtab/cta.html" />
                        <sly data-sly-test="${cruise.enrichmentsFeatures && cruise.enrichmentsFeatures.size > 0}"
                            data-sly-include="fragment/overviewtab/enrichements.html" />
                        <sly data-sly-use.cruiseHeader="silversea/silversea-com/components/pages/cruise/fragment/overviewtab/footnotes.html" data-sly-call="${cruiseHeader.default @ cruise=cruise}" />
                        <div data-sly-resource="${'par' @ resourceType='wcm/foundation/components/responsivegrid'}"></div>
                    </div>
                    <div class="c-tab__content" id="suitenfare">
                        <!--/* Suite and fares tab */-->
                        <sly data-sly-include="fragment/suitetab/suitelist.html" />
                    </div>
                    <div class="c-tab__content" id="excursion" data-sly-test="${cruise.cruiseModel.cruiseType == 'silversea-cruise' && cruise.excursionsNumber > 0}">
                        <!--/* Excursion tab */-->
                        <sly data-sly-include="fragment/excursiontab/portexcursionslist.html" />
                    </div>
                    <div class="c-tab__content" id="ship">
                        <!--/* Ship tab */-->
                        <sly data-sly-include="fragment/shiptab/overview.html" />
                        <sly data-sly-include="fragment/shiptab/suitevariation.html" />
                        <sly data-sly-include="fragment/shiptab/diningvariation.html" />
                        <sly data-sly-include="fragment/shiptab/publicareavariation.html" />
                    </div>
                    <div class="c-tab__content" id="landnhotel" data-sly-test="${cruise.landProgramsNumber > 0 || cruise.hotelsNumber > 0}">
                        <!--/* Land and hotel tab */-->
                        <sly data-sly-include="fragment/landprogramtab/portlandprogramlist.html" />
                    </div>
                    <div class="c-tab__content" id="highlight" data-sly-test="${cruise.cruiseModel.cruiseType == 'silversea-expedition' && (properties.voyageHighlights || properties.reference)}">
                        <!--/* Highlight tab */-->
                        <sly data-sly-test="${properties.voyageHighlights}" data-sly-include="fragment/highlighttab/hightlight.html" />
                        <sly data-sly-test="${properties.reference}" data-sly-include="fragment/highlighttab/keypeople.html" />
                    </div>
                    <div class="c-tab__content" id="photonvideo">
                        <!--/* Photos and videos tab */-->
                        <sly data-sly-include="fragment/phototab/portextramediagallery.html" />
                        <sly data-sly-include="fragment/phototab/suitevariation.html" />
                        <sly data-sly-include="fragment/phototab/diningpublicareavariation.html" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>